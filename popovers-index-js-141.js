"use strict";(self.webpackChunkpopovers=self.webpackChunkpopovers||[]).push([[141],{657:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{default:()=>r});class o{constructor(){if(i(this,"element",void 0),i(this,"onClick",e=>{const t=e.target.closest("[data-popover]");if(console.log(t),o.activePopover&&o.activeTarget.isEqualNode(t)||o.activePopover&&!t)return o.activePopover.remove(),void(o.activePopover=null);t&&(this.render(t.dataset.popover),this.positionPopover(t),o.activeTarget=t)}),i(this,"onPointerMove",e=>{this.moveTooltip(e)}),i(this,"onPointerOut",()=>{this.remove(),document.removeEventListener("pointermove",this.onPointerMove)}),o.instance)return o.instance;o.instance=this}initialize(){this.initEventListeners()}initEventListeners(){document.addEventListener("click",this.onClick)}render(e){const t=e.split(";");this.element=document.createElement("div"),this.element.className="popover",this.element.innerHTML=`<div class="tooltip__title">${t[0]}</div>\n        <div class="tooltip__content">${t[1]}</div>`,document.body.append(this.element),o.activePopover=this}positionPopover(e){const t=e.getBoundingClientRect(),n=t.left+window.scrollX+t.width/2,i=t.top-this.element.offsetHeight-7;this.element.style.left=n+"px",this.element.style.top=i+"px"}remove(){this.element&&this.element.remove()}destroy(){document.removeEventListener("click",this.onClick),this.remove(),this.element=null}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i(o,"instance",void 0),i(o,"activePopover",void 0),i(o,"activeTarget",void 0);class r{constructor(){s(this,"subElements",{}),s(this,"components",{})}render(){const e=document.createElement("div");return e.innerHTML=this.getTemplate(),this.element=e.firstElementChild,this.subElements=this.getSubElements(),this.initComponents(),this.element}initComponents(){(new o).initialize()}getSubElements(){const e=this.element.querySelectorAll("[data-element]");for(const t of e)this.subElements[t.dataset.element]=t;return this.subElements}remove(){this.element&&this.element.remove()}destroy(){this.remove(),this.element=null,this.subElements=null;for(const e of Object.values(this.components))e.destroy()}getTemplate(){return'\n        <div data-element="content">\n        <button class="button button_primary popover__button" \n        data-popover="Popover title; And heres some amaizing content. Its very engaging. Right?">\n        Click to toggle popover\n     </button>\n    </div>\n        '}}}}]);
//# sourceMappingURL=popovers-index-js-141.js.map